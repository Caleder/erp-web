{"version":3,"sources":["webpack:///./src/components/purchase/List.vue?429a","webpack:///src/components/purchase/List.vue","webpack:///./src/components/purchase/List.vue?3e59","webpack:///./src/components/purchase/List.vue","webpack:///./src/components/purchase/List.vue?677b","webpack:///./src/components/purchase/Save.vue?d40c","webpack:///./src/components/purchase/Save.vue?66b9","webpack:///src/components/purchase/Save.vue","webpack:///./src/components/purchase/Save.vue?1cae","webpack:///./src/components/purchase/Save.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","model","value","callback","$$v","rangedDate","expression","on","getPurchasePage","params","query","$set","search","clear","$event","goAddPage","purchaseList","scopedSlots","_u","key","fn","scope","row","paidStatus","_e","purchaseCheckedSwitch","goEditPage","id","deletePurchase","current","size","total","handleSizeChange","handleCurrentChange","staticRenderFns","data","watch","created","methods","startDate","endDate","$router","push","component","ref","saveForm","saveFormRules","_l","supplier","name","showProductAddDialog","productList","showProductEditDialog","$index","deleteProduct","_n","slot","selectAccountChanged","account","savePurchase","savePurchaseThenNew","isProductAdd","saveProductDialogVisible","saveProductDialogClosed","saveProductForm","saveProductFormRules","showSelectProductDialog","selectWarehouseChanged","warehouse","saveProduct","selectProductDialogVisible","handleSelectProduct","supplierList","purchaseCode","accountList","discountRate","discountedAmount","totalAmount","paidAmount","debtAmount","modifyProductIndex","quantity","price","discountAmount","amount","productName","warehouseId","productParams","categoryId","warehouseList","undefined","purchaseId","getPurchaseDetail","getPurchaseCode","getSupplierList","getAccountList","getWarehouseList","accountId","$_","cloneDeep","contact","index","$refs","saveProductFormRef","resetFields","validate","product","productId","unitName","find","warehouseName"],"mappings":"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","file":"js/Purchase.83e03c77.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"基础管理\")]),_c('el-breadcrumb-item',[_vm._v(\"购货单列表\")])],1),_c('el-card',[_c('el-row',{staticClass:\"query\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"value-format\":\"yyyy-MM-dd\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.rangedDate),callback:function ($$v) {_vm.rangedDate=$$v},expression:\"rangedDate\"}})],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入单据号/供应商/序列号查询\",\"clearable\":\"\"},on:{\"clear\":_vm.getPurchasePage},model:{value:(_vm.params.query.name),callback:function ($$v) {_vm.$set(_vm.params.query, \"name\", $$v)},expression:\"params.query.name\"}})],1),_c('el-col',{attrs:{\"span\":1.5}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1),_c('el-col',{attrs:{\"span\":1.5}},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.clear}},[_vm._v(\"重置\")])],1)],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":1.5}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goAddPage()}}},[_vm._v(\"新增\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.purchaseList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"单据日期\",\"prop\":\"issueDate\"}}),_c('el-table-column',{attrs:{\"label\":\"单据编号\",\"prop\":\"code\"}}),_c('el-table-column',{attrs:{\"label\":\"供应商\",\"prop\":\"supplierName\"}}),_c('el-table-column',{attrs:{\"label\":\"购货金额\",\"prop\":\"totalAmount\"}}),_c('el-table-column',{attrs:{\"label\":\"优惠后金额\",\"prop\":\"discountedAmount\"}}),_c('el-table-column',{attrs:{\"label\":\"已付款\",\"prop\":\"paidAmount\"}}),_c('el-table-column',{attrs:{\"label\":\"付款状态\",\"prop\":\"paidStatus\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.paidStatus = 10)?_c('span',[_vm._v(\"\\n            未付款\\n          \")]):(scope.row.paidStatus = 20)?_c('span',[_vm._v(\"\\n            部分付款\\n          \")]):(scope.row.paidStatus = 30)?_c('span',[_vm._v(\"\\n            已付款\\n          \")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"数量\",\"prop\":\"quantity\"}}),_c('el-table-column',{attrs:{\"label\":\"制单人\",\"prop\":\"listerName\"}}),_c('el-table-column',{attrs:{\"label\":\"审核人\",\"prop\":\"auditorName\"}}),_c('el-table-column',{attrs:{\"label\":\"审核状态\",\"width\":\"70px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.purchaseCheckedSwitch(scope.row)}},model:{value:(scope.row.checked),callback:function ($$v) {_vm.$set(scope.row, \"checked\", $$v)},expression:\"scope.row.checked\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"修改\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.goEditPage(scope.row.id)}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deletePurchase(scope.row.id)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.params.current,\"page-sizes\":[1, 2, 5, 10],\"page-size\":_vm.params.size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 面包屑导航区域 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>基础管理</el-breadcrumb-item>\n      <el-breadcrumb-item>购货单列表</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!-- 卡片视图区域 -->\n    <el-card>\n      <!-- 搜索与添加区域 -->\n      <el-row :gutter=\"20\"\n              class=\"query\">\n        <el-col :span=\"7\">\n          <el-date-picker v-model=\"rangedDate\"\n                          type=\"daterange\"\n                          value-format='yyyy-MM-dd'\n                          range-separator=\"至\"\n                          start-placeholder=\"开始日期\"\n                          end-placeholder=\"结束日期\">\n          </el-date-picker>\n        </el-col>\n        <el-col :span=\"8\">\n          <el-input placeholder=\"请输入单据号/供应商/序列号查询\"\n                    v-model=\"params.query.name\"\n                    clearable\n                    @clear=\"getPurchasePage\">\n          </el-input>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button type=\"primary\"\n                     @click=\"search\">查询</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button type=\"success\"\n                     @click=\"clear\">重置</el-button>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"20\">\n        <el-col :span=\"1.5\">\n          <el-button type=\"primary\"\n                     @click=\"goAddPage()\">新增</el-button>\n        </el-col>\n      </el-row>\n\n      <!-- 列表区域 -->\n      <el-table :data=\"purchaseList\"\n                border\n                stripe>\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column label=\"单据日期\"\n                         prop=\"issueDate\"></el-table-column>\n        <el-table-column label=\"单据编号\"\n                         prop=\"code\"></el-table-column>\n        <el-table-column label=\"供应商\"\n                         prop=\"supplierName\"></el-table-column>\n        <el-table-column label=\"购货金额\"\n                         prop=\"totalAmount\"></el-table-column>\n        <el-table-column label=\"优惠后金额\"\n                         prop=\"discountedAmount\"></el-table-column>\n        <el-table-column label=\"已付款\"\n                         prop=\"paidAmount\"></el-table-column>\n        <el-table-column label=\"付款状态\"\n                         prop=\"paidStatus\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.paidStatus = 10\">\n              未付款\n            </span>\n            <span v-else-if=\"scope.row.paidStatus = 20\">\n              部分付款\n            </span>\n            <span v-else-if=\"scope.row.paidStatus = 30\">\n              已付款\n            </span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"数量\"\n                         prop=\"quantity\"></el-table-column>\n        <el-table-column label=\"制单人\"\n                         prop=\"listerName\">\n        </el-table-column>\n        <el-table-column label=\"审核人\"\n                         prop=\"auditorName\">\n        </el-table-column>\n        <el-table-column label=\"审核状态\"\n                         width=\"70px\">\n          <template slot-scope=\"scope\">\n            <el-switch v-model=\"scope.row.checked\"\n                       @change=\"purchaseCheckedSwitch(scope.row)\">\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"备注\"\n                         prop=\"remark\">\n        </el-table-column>\n        <el-table-column label=\"操作\"\n                         width=\"120px\">\n          <template slot-scope=\"scope\">\n            <!-- 修改按钮 -->\n            <el-tooltip effect=\"dark\"\n                        content=\"修改\"\n                        placement=\"top\"\n                        :enterable=\"false\">\n              <el-button type=\"primary\"\n                         icon=\"el-icon-edit\"\n                         size=\"mini\"\n                         @click=\"goEditPage(scope.row.id)\"></el-button>\n            </el-tooltip>\n            <!-- 删除按钮 -->\n            <el-tooltip effect=\"dark\"\n                        content=\"删除\"\n                        placement=\"top\"\n                        :enterable=\"false\">\n              <el-button type=\"danger\"\n                         icon=\"el-icon-delete\"\n                         size=\"mini\"\n                         @click=\"deletePurchase(scope.row.id)\"></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页区域 -->\n      <el-pagination @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"params.current\"\n                     :page-sizes=\"[1, 2, 5, 10]\"\n                     :page-size=\"params.size\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      // 获取职员列表的参数对象\n      params: {\n        query: {\n        },\n        // 当前的页数\n        current: 1,\n        // 当前每页显示多少条数据\n        size: 5\n      },\n      total: 0,\n      purchaseList: [],\n      rangedDate: null\n    }\n  },\n  watch: {\n  },\n  created () {\n    this.getPurchasePage()\n  },\n  methods: {\n    // 搜索\n    search () {\n      if (this.rangedDate != null) {\n        this.params.query.startDate = this.rangedDate[0]\n        this.params.query.endDate = this.rangedDate[1]\n      } else {\n        this.params.query.startDate = ''\n        this.params.query.endDate = ''\n      }\n      this.getPurchasePage()\n    },\n    // 清空\n    clear () {\n      this.rangedDate = null\n      this.params.query = {}\n      this.getPurchasePage()\n    },\n    // 获取购货单分页列表\n    async getPurchasePage () {\n      const { data: result } = await this.$http.post('/purchase/page', this.params)\n      if (!result.success) return this.$message.error(result.message)\n\n      this.purchaseList = result.data.purchasePage.records\n\n      this.total = result.data.purchasePage.total\n    },\n    // 监听 pagesize 改变的事件\n    handleSizeChange (size) {\n      this.params.size = size\n      this.getPurchasePage()\n    },\n    // 监听 页码值 改变的事件\n    handleCurrentChange (current) {\n      this.params.current = current\n      this.getPurchasePage()\n    },\n    // 新增按钮\n    goAddPage () {\n      this.$router.push('/purchase/save')\n    },\n    // 修改按钮\n    goEditPage (purchaseId) {\n      this.$router.push({\n        path: '/purchase/save',\n        query: { purchaseId }\n      })\n    },\n    // 购货单审核状态改变\n    async purchaseCheckedSwitch (purchase) {\n      const { data: result } = await this.$http.post(\n        '/purchase/switchCheck',\n        {\n          'purchaseId': purchase.id\n        }\n      )\n      if (!result.success) {\n        purchase.checked = !purchase.checked\n        return this.$message.error('更新审核状态失败！')\n      }\n      purchase.checked = result.data.purchase.checked\n      this.$message.success('更新审核状态成功！')\n    },\n    // 删除购货单\n    async deletePurchase (purchaseId) {\n      // 弹框询问用户是否删除数据\n      const confirmResult = await this.$confirm(\n        '此操作将永久删除该购货单，是否继续?',\n        '提示',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).catch(err => err)\n\n      // 如果用户确认删除，则返回值为字符串 confirm\n      // 如果用户取消了删除，则返回值为字符串 cancel\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除')\n      }\n\n      const { data: result } = await this.$http.post('/purchase/delete', { purchaseId })\n\n      if (!result.success) {\n        return this.$message.error('删除购货单失败！')\n      }\n\n      this.$message.success('删除购货单成功！')\n      this.getPurchasePage()\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.query {\n  margin-bottom: 20px;\n}\n.el-select {\n  width: 100%;\n}\n.el-date-editor {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=e2df4b34&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=e2df4b34&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e2df4b34\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=e2df4b34&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=e2df4b34&lang=less&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=style&index=0&id=40a3c51e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=style&index=0&id=40a3c51e&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"基础管理\")]),_c('el-breadcrumb-item',[_vm._v(\"购货单新增\")])],1),_c('el-card',[_c('el-form',{ref:\"saveFormRef\",attrs:{\"model\":_vm.saveForm,\"rules\":_vm.saveFormRules,\"label-width\":\"100px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"供应商\",\"prop\":\"supplierId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择供应商\"},model:{value:(_vm.saveForm.supplierId),callback:function ($$v) {_vm.$set(_vm.saveForm, \"supplierId\", $$v)},expression:\"saveForm.supplierId\"}},_vm._l((_vm.supplierList),function(supplier){return _c('el-option',{key:supplier.id,attrs:{\"label\":supplier.name,\"value\":supplier.id}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"单据日期\",\"prop\":\"issueDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择日期\"},model:{value:(_vm.saveForm.issueDate),callback:function ($$v) {_vm.$set(_vm.saveForm, \"issueDate\", $$v)},expression:\"saveForm.issueDate\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"单据编号\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.saveForm.code),callback:function ($$v) {_vm.$set(_vm.saveForm, \"code\", $$v)},expression:\"saveForm.code\"}})],1)],1)],1),_c('el-row',[_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.showProductAddDialog()}}},[_vm._v(\"新增商品\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.saveForm.productList,\"border\":\"\",\"stripe\":\"\",\"height\":\"300\"}},[_c('el-table-column',{attrs:{\"label\":\"商品\",\"prop\":\"productName\"}}),_c('el-table-column',{attrs:{\"label\":\"单位\",\"prop\":\"unitName\"}}),_c('el-table-column',{attrs:{\"label\":\"仓库\",\"prop\":\"warehouseName\"}}),_c('el-table-column',{attrs:{\"label\":\"数量\",\"prop\":\"quantity\"}}),_c('el-table-column',{attrs:{\"label\":\"购货单价\",\"prop\":\"price\"}}),_c('el-table-column',{attrs:{\"label\":\"折扣率(%)\",\"prop\":\"discountRate\"}}),_c('el-table-column',{attrs:{\"label\":\"折扣额\",\"prop\":\"discountAmount\"}}),_c('el-table-column',{attrs:{\"label\":\"购货金额\",\"prop\":\"amount\"}}),_c('el-table-column',{attrs:{\"label\":\"序列号\",\"prop\":\"code\"}}),_c('el-table-column',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"修改\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showProductEditDialog(scope.row, scope.$index)}}})],1),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteProduct(scope.row)}}})],1)]}}])})],1)],1)],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"结算信息\")]),_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"优惠率\",\"prop\":\"discountRate\"}},[_c('el-input',{model:{value:(_vm.saveForm.discountRate),callback:function ($$v) {_vm.$set(_vm.saveForm, \"discountRate\", _vm._n($$v))},expression:\"saveForm.discountRate\"}},[_c('template',{slot:\"append\"},[_vm._v(\"%\")])],2)],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"优惠金额\",\"prop\":\"discountedAmount\"}},[_c('el-input',{model:{value:(_vm.saveForm.discountedAmount),callback:function ($$v) {_vm.$set(_vm.saveForm, \"discountedAmount\", $$v)},expression:\"saveForm.discountedAmount\"}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"优惠后金额\",\"prop\":\"totalAmount\"}},[_c('el-input',{model:{value:(_vm.saveForm.totalAmount),callback:function ($$v) {_vm.$set(_vm.saveForm, \"totalAmount\", $$v)},expression:\"saveForm.totalAmount\"}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"本次付款\",\"prop\":\"paidAmount\"}},[_c('el-input',{model:{value:(_vm.saveForm.paidAmount),callback:function ($$v) {_vm.$set(_vm.saveForm, \"paidAmount\", $$v)},expression:\"saveForm.paidAmount\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"结算账户\",\"prop\":\"accountId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择结算账户\"},on:{\"change\":_vm.selectAccountChanged},model:{value:(_vm.saveForm.accountId),callback:function ($$v) {_vm.$set(_vm.saveForm, \"accountId\", $$v)},expression:\"saveForm.accountId\"}},_vm._l((_vm.accountList),function(account){return _c('el-option',{key:account.id,attrs:{\"label\":account.name,\"value\":account.id}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"本次欠款\",\"prop\":\"debtAmount\"}},[_c('el-input',{model:{value:(_vm.saveForm.debtAmount),callback:function ($$v) {_vm.$set(_vm.saveForm, \"debtAmount\", $$v)},expression:\"saveForm.debtAmount\"}})],1)],1),_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"采购合同\",\"prop\":\"contracts\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.saveForm.contracts),callback:function ($$v) {_vm.$set(_vm.saveForm, \"contracts\", $$v)},expression:\"saveForm.contracts\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"制单人\",\"prop\":\"listerName\"}},[_c('el-input',{model:{value:(_vm.saveForm.listName),callback:function ($$v) {_vm.$set(_vm.saveForm, \"listName\", $$v)},expression:\"saveForm.listName\"}})],1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"offset\":20}},[_c('el-button',{on:{\"click\":_vm.savePurchase}},[_vm._v(\"保存\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.savePurchaseThenNew}},[_vm._v(\"保存并新增\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.isProductAdd ? '新增商品' : '修改商品',\"visible\":_vm.saveProductDialogVisible,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.saveProductDialogVisible=$event},\"close\":_vm.saveProductDialogClosed}},[_c('el-form',{ref:\"saveProductFormRef\",attrs:{\"model\":_vm.saveProductForm,\"rules\":_vm.saveProductFormRules,\"label-width\":\"100px\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"商品\",\"prop\":\"productName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请选择商品\",\"disabled\":\"\"},model:{value:(_vm.saveProductForm.productName),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"productName\", $$v)},expression:\"saveProductForm.productName\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.showSelectProductDialog()}},slot:\"append\"})],1)],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"单位\",\"prop\":\"unitName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.saveProductForm.unitName),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"unitName\", $$v)},expression:\"saveProductForm.unitName\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"仓库\",\"prop\":\"warehouseId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择仓库\"},on:{\"change\":_vm.selectWarehouseChanged},model:{value:(_vm.saveProductForm.warehouseId),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"warehouseId\", $$v)},expression:\"saveProductForm.warehouseId\"}},_vm._l((_vm.warehouseList),function(warehouse){return _c('el-option',{key:warehouse.id,attrs:{\"label\":warehouse.name,\"value\":warehouse.id}})}),1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"数量\",\"prop\":\"quantity\"}},[_c('el-input',{model:{value:(_vm.saveProductForm.quantity),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"quantity\", $$v)},expression:\"saveProductForm.quantity\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"购货单价\",\"prop\":\"price\"}},[_c('el-input',{model:{value:(_vm.saveProductForm.price),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"price\", $$v)},expression:\"saveProductForm.price\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"折扣率(%)\",\"prop\":\"discountRate\"}},[_c('el-input',{model:{value:(_vm.saveProductForm.discountRate),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"discountRate\", $$v)},expression:\"saveProductForm.discountRate\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"折扣额\",\"prop\":\"discountAmount\"}},[_c('el-input',{model:{value:(_vm.saveProductForm.discountAmount),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"discountAmount\", $$v)},expression:\"saveProductForm.discountAmount\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"购货金额\",\"prop\":\"amount\"}},[_c('el-input',{model:{value:(_vm.saveProductForm.amount),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"amount\", $$v)},expression:\"saveProductForm.amount\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"序列号\",\"prop\":\"code\"}},[_c('el-input',{model:{value:(_vm.saveProductForm.code),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"code\", $$v)},expression:\"saveProductForm.code\"}})],1)],1)],1),_c('el-row',[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"备注信息\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"添加备注信息\"},model:{value:(_vm.saveProductForm.remark),callback:function ($$v) {_vm.$set(_vm.saveProductForm, \"remark\", $$v)},expression:\"saveProductForm.remark\"}})],1)],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.saveProductDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveProduct}},[_vm._v(\"确 定\")])],1)],1),_c('select-product-dialog',{attrs:{\"visible\":_vm.selectProductDialogVisible},on:{\"update:visible\":function($event){_vm.selectProductDialogVisible=$event},\"selectProduct\":function($event){return _vm.handleSelectProduct($event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 面包屑导航区域 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>基础管理</el-breadcrumb-item>\n      <el-breadcrumb-item>购货单新增</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!-- 卡片视图区域 -->\n    <el-card>\n      <el-form :model=\"saveForm\"\n               :rules=\"saveFormRules\"\n               ref=\"saveFormRef\"\n               label-width=\"100px\">\n        <el-row>\n          <el-col :span=\"8\">\n            <el-form-item label=\"供应商\"\n                          prop=\"supplierId\">\n              <el-select v-model=\"saveForm.supplierId\"\n                         placeholder=\"请选择供应商\">\n                <el-option v-for=\"supplier in supplierList\"\n                           :key=\"supplier.id\"\n                           :label=\"supplier.name\"\n                           :value=\"supplier.id\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"单据日期\"\n                          prop=\"issueDate\">\n              <el-date-picker v-model=\"saveForm.issueDate\"\n                              type=\"date\"\n                              value-format='yyyy-MM-dd'\n                              placeholder=\"选择日期\">\n              </el-date-picker>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"单据编号\"\n                          prop=\"code\">\n              <el-input v-model=\"saveForm.code\"\n                        disabled></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <!-- 商品表格 -->\n          <el-card>\n            <!-- 搜索与添加区域 -->\n            <el-row :gutter=\"20\">\n              <el-col :span=\"4\">\n                <el-button type=\"primary\"\n                           @click=\"showProductAddDialog()\">新增商品</el-button>\n              </el-col>\n            </el-row>\n            <!-- 商品列表区域 -->\n            <el-table :data=\"saveForm.productList\"\n                      border\n                      stripe\n                      height=\"300\">\n              <el-table-column label=\"商品\"\n                               prop=\"productName\"></el-table-column>\n              <el-table-column label=\"单位\"\n                               prop=\"unitName\"></el-table-column>\n              <el-table-column label=\"仓库\"\n                               prop=\"warehouseName\"></el-table-column>\n              <el-table-column label=\"数量\"\n                               prop=\"quantity\"></el-table-column>\n              <el-table-column label=\"购货单价\"\n                               prop=\"price\"></el-table-column>\n              <el-table-column label=\"折扣率(%)\"\n                               prop=\"discountRate\"></el-table-column>\n              <el-table-column label=\"折扣额\"\n                               prop=\"discountAmount\"></el-table-column>\n              <el-table-column label=\"购货金额\"\n                               prop=\"amount\"></el-table-column>\n              <el-table-column label=\"序列号\"\n                               prop=\"code\"></el-table-column>\n              <el-table-column label=\"备注\"\n                               prop=\"remark\"></el-table-column>\n              <el-table-column label=\"操作\"\n                               width=\"120px\">\n                <template slot-scope=\"scope\">\n                  <!-- 修改按钮 -->\n                  <el-tooltip effect=\"dark\"\n                              content=\"修改\"\n                              placement=\"top\"\n                              :enterable=\"false\">\n                    <el-button type=\"primary\"\n                               icon=\"el-icon-edit\"\n                               size=\"mini\"\n                               @click=\"showProductEditDialog(scope.row, scope.$index)\"></el-button>\n                  </el-tooltip>\n                  <!-- 删除按钮 -->\n                  <el-tooltip effect=\"dark\"\n                              content=\"删除\"\n                              placement=\"top\"\n                              :enterable=\"false\">\n                    <el-button type=\"danger\"\n                               icon=\"el-icon-delete\"\n                               size=\"mini\"\n                               @click=\"deleteProduct(scope.row)\"></el-button>\n                  </el-tooltip>\n                </template>\n              </el-table-column>\n            </el-table>\n          </el-card>\n        </el-row>\n        <el-divider content-position=\"left\">结算信息</el-divider>\n        <el-row>\n          <el-col :span=\"5\">\n            <el-form-item label=\"优惠率\"\n                          prop=\"discountRate\">\n              <el-input v-model.number=\"saveForm.discountRate\">\n                <template slot=\"append\">%</template>\n              </el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item label=\"优惠金额\"\n                          prop=\"discountedAmount\">\n              <el-input v-model=\"saveForm.discountedAmount\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item label=\"优惠后金额\"\n                          prop=\"totalAmount\">\n              <el-input v-model=\"saveForm.totalAmount\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item label=\"本次付款\"\n                          prop=\"paidAmount\">\n              <el-input v-model=\"saveForm.paidAmount\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"5\">\n            <el-form-item label=\"结算账户\"\n                          prop=\"accountId\">\n              <el-select v-model=\"saveForm.accountId\"\n                         placeholder=\"请选择结算账户\"\n                         @change=\"selectAccountChanged\">\n                <el-option v-for=\"account in accountList\"\n                           :key=\"account.id\"\n                           :label=\"account.name\"\n                           :value=\"account.id\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item label=\"本次欠款\"\n                          prop=\"debtAmount\">\n              <el-input v-model=\"saveForm.debtAmount\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"5\">\n            <el-form-item label=\"采购合同\"\n                          prop=\"contracts\">\n              <el-input v-model=\"saveForm.contracts\"\n                        disabled></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"5\">\n            <el-form-item label=\"制单人\"\n                          prop=\"listerName\">\n              <el-input v-model=\"saveForm.listName\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <el-row>\n        <el-col :offset=\"20\">\n          <el-button @click=\"savePurchase\">保存</el-button>\n          <el-button type=\"primary\"\n                     @click=\"savePurchaseThenNew\">保存并新增</el-button>\n        </el-col>\n\n      </el-row>\n    </el-card>\n\n    <!-- 保存商品对话框 -->\n    <el-dialog :title=\"isProductAdd ? '新增商品' : '修改商品'\"\n               :visible.sync=\"saveProductDialogVisible\"\n               width=\"70%\"\n               @close=\"saveProductDialogClosed\">\n      <!-- 内容主体区域 -->\n      <el-form :model=\"saveProductForm\"\n               :rules=\"saveProductFormRules\"\n               ref=\"saveProductFormRef\"\n               label-width=\"100px\">\n        <el-row>\n          <el-col :span=\"8\">\n            <el-form-item label=\"商品\"\n                          prop=\"productName\">\n              <el-input placeholder=\"请选择商品\"\n                        v-model=\"saveProductForm.productName\"\n                        disabled>\n                <el-button slot=\"append\"\n                           icon=\"el-icon-search\"\n                           @click=\"showSelectProductDialog()\"></el-button>\n              </el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"单位\"\n                          prop=\"unitName\">\n              <el-input v-model=\"saveProductForm.unitName\"\n                        disabled></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"仓库\"\n                          prop=\"warehouseId\">\n              <el-select v-model=\"saveProductForm.warehouseId\"\n                         placeholder=\"请选择仓库\"\n                         @change=\"selectWarehouseChanged\">\n                <el-option v-for=\"warehouse in warehouseList\"\n                           :key=\"warehouse.id\"\n                           :label=\"warehouse.name\"\n                           :value=\"warehouse.id\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"8\">\n            <el-form-item label=\"数量\"\n                          prop=\"quantity\">\n              <el-input v-model=\"saveProductForm.quantity\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"购货单价\"\n                          prop=\"price\">\n              <el-input v-model=\"saveProductForm.price\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"折扣率(%)\"\n                          prop=\"discountRate\">\n              <el-input v-model=\"saveProductForm.discountRate\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"8\">\n            <el-form-item label=\"折扣额\"\n                          prop=\"discountAmount\">\n              <el-input v-model=\"saveProductForm.discountAmount\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"购货金额\"\n                          prop=\"amount\">\n              <el-input v-model=\"saveProductForm.amount\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"8\">\n            <el-form-item label=\"序列号\"\n                          prop=\"code\">\n              <el-input v-model=\"saveProductForm.code\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col>\n            <el-form-item label=\"备注信息\"\n                          prop=\"remark\">\n              <el-input type=\"textarea\"\n                        :rows=\"2\"\n                        placeholder=\"添加备注信息\"\n                        v-model=\"saveProductForm.remark\">\n              </el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <!-- 底部区域 -->\n      <span slot=\"footer\"\n            class=\"dialog-footer\">\n        <el-button @click=\"saveProductDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\"\n                   @click=\"saveProduct\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <select-product-dialog :visible.sync=\"selectProductDialogVisible\"\n                           @selectProduct=\"handleSelectProduct($event)\"></select-product-dialog>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport SelectProductDialog from '../common/SelectProductDialog'\nVue.component('select-product-dialog', SelectProductDialog)\n\nexport default {\n  data () {\n    return {\n      // 供应商\n      supplierList: [],\n      purchaseCode: '',\n      accountList: [],\n      saveForm: {\n        discountRate: 0,\n        discountedAmount: 0,\n        totalAmount: 0.00,\n        paidAmount: 0.00,\n        debtAmount: 0.00,\n        productList: [],\n        accountList: []\n      },\n      saveFormRules: {},\n      // 是否新增商品\n      isProductAdd: true,\n      modifyProductIndex: 0,\n      saveProductDialogVisible: false,\n      saveProductForm: {\n        quantity: 1.00,\n        price: 0.00,\n        discountRate: 0,\n        discountAmount: 0.00,\n        amount: 0.00\n      },\n      // 添加表单的验证规则对象\n      saveProductFormRules: {\n        productName: [\n          { required: true, message: '请选择商品', trigger: 'blur' }\n        ],\n        warehouseId: [\n          { required: true, message: '请选择仓库', trigger: 'blur' }\n        ]\n      },\n      selectProductDialogVisible: false,\n      productParams: {\n        query: {\n          categoryId: ''\n        },\n        current: 1,\n        size: 5\n      },\n      warehouseList: []\n    }\n  },\n  created () {\n    let purchaseId = this.$route.query.purchaseId\n    if (purchaseId !== undefined) {\n      console.log(purchaseId)\n      this.getPurchaseDetail(purchaseId)\n    } else {\n      this.getPurchaseCode()\n    }\n\n    this.getSupplierList()\n    this.getAccountList()\n    this.getWarehouseList()\n  },\n  methods: {\n    // 获取供应商列表\n    async getSupplierList () {\n      const { data: result } = await this.$http.post('/supplier/page', {\n        current: 1,\n        size: 10000\n      })\n      if (!result.success) return this.$message.error(result.message)\n\n      this.supplierList = result.data.supplierPage.records\n    },\n    // 获取单据编号\n    async getPurchaseCode () {\n      const { data: result } = await this.$http.post('/purchase/createCode')\n      if (!result.success) return this.$message.error(result.message)\n\n      this.saveForm = {\n        discountRate: 0,\n        discountedAmount: 0,\n        totalAmount: 0.00,\n        paidAmount: 0.00,\n        debtAmount: 0.00,\n        productList: [],\n        accountList: []\n      }\n\n      console.log(result.data.code)\n      this.purchaseCode = result.data.code\n      this.saveForm.code = this.purchaseCode\n    },\n    // 获取结算账户列表\n    async getAccountList () {\n      const { data: result } = await this.$http.post('/settlementAccount/list')\n      if (!result.success) return this.$message.error(result.message)\n\n      this.accountList = result.data.accountList\n    },\n    // 获取详情\n    async getPurchaseDetail (purchaseId) {\n      const { data: result } = await this.$http.post('/purchase/detail', {\n        purchaseId\n      })\n      if (!result.success) return this.$message.error(result.message)\n\n      console.log(result.data)\n      this.saveForm = result.data.purchase\n    },\n    // 选择了结算账户\n    selectAccountChanged (accountId) {\n      this.saveForm.accountList = []\n      var account = {\n        accountId\n      }\n      this.saveForm.accountList.push(account)\n    },\n    // 点击按钮，保存购货单\n    async savePurchase () {\n      this.$refs.saveFormRef.validate(async valid => {\n        if (!valid) return\n        // 可以发起新增购货单的网络请求\n        const { data: result } = await this.$http.post('/purchase/save', {\n          purchase: this.saveForm,\n          productList: this.saveForm.productList,\n          accountList: this.saveForm.accountList\n        })\n        if (!result.success) {\n          return this.$message.error(result.message)\n        }\n\n        this.$message.success('保存购货单成功！')\n      })\n    },\n    // 保存并新增\n    async savePurchaseThenNew () {\n      this.savePurchase()\n      this.getPurchaseCode()\n    },\n    // 显示保存商品对话框\n    showProductAddDialog () {\n      this.isProductAdd = true\n      this.saveProductForm = {\n        quantity: 1.00,\n        price: 0.00,\n        discountRate: 0,\n        discountAmount: 0.00,\n        amount: 0.00\n      }\n      this.saveProductDialogVisible = true\n    },\n    // 显示修改商品对话框\n    showProductEditDialog (contact, index) {\n      this.isProductAdd = false\n      this.saveProductForm = this.$_.cloneDeep(contact)\n      this.modifyProductIndex = index\n      this.saveProductDialogVisible = true\n    },\n\n    // 监听新增商品对话框的关闭事件\n    saveProductDialogClosed () {\n      if (this.isProductAdd) {\n        this.$refs.saveProductFormRef.resetFields()\n      }\n    },\n    // 点击按钮，添加商品\n    saveProduct () {\n      this.$refs.saveProductFormRef.validate(async valid => {\n        if (!valid) return\n\n        var product = this.$_.cloneDeep(this.saveProductForm)\n\n        // 修改\n        if (!this.isProductAdd) {\n          this.saveForm.productList.splice(this.modifyProductIndex, 1, product)\n\n          this.$message.success('修改商品成功！')\n        } else {\n          // 新增\n          this.saveForm.productList.push(product)\n          this.$message.success('添加商品成功！')\n        }\n\n        // 隐藏添加商品的对话框\n        this.saveProductDialogVisible = false\n      })\n    },\n    // 删除商品\n    async deleteProduct (product) {\n      // 弹框询问用户是否删除数据\n      const confirmResult = await this.$confirm(\n        '删除该商品，是否继续?',\n        '提示',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).catch(err => err)\n\n      // 如果用户确认删除，则返回值为字符串 confirm\n      // 如果用户取消了删除，则返回值为字符串 cancel\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除')\n      }\n\n      this.saveForm.productList.splice(\n        this.saveForm.productList.findIndex(existedProduct => existedProduct === product),\n        1\n      )\n\n      this.$message.success('删除商品成功！')\n    },\n    // 显示选择商品对话框\n    showSelectProductDialog () {\n      this.selectProductDialogVisible = true\n    },\n    // 选择好商品\n    handleSelectProduct (product) {\n      if (product != null) {\n        this.saveProductForm.productName = product.name\n        this.saveProductForm.productId = product.id\n        this.saveProductForm.unitName = product.unitName\n      }\n    },\n    // 获取仓库列表\n    async getWarehouseList () {\n      const { data: result } = await this.$http.post('/warehouse/page', {\n        current: 1,\n        size: 10000\n      })\n      if (!result.success) return this.$message.error(result.message)\n\n      this.warehouseList = result.data.warehousePage.records\n    },\n    // 选择了仓库\n    selectWarehouseChanged (warehouseId) {\n      var warehouse = this.$_.find(this.warehouseList, { 'id': warehouseId })\n      if (warehouse !== undefined) {\n        this.saveProductForm.warehouseName = warehouse.name\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.query {\n  margin-bottom: 20px;\n}\n.el-select {\n  width: 100%;\n}\n.el-date-editor {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Save.vue?vue&type=template&id=40a3c51e&scoped=true&\"\nimport script from \"./Save.vue?vue&type=script&lang=js&\"\nexport * from \"./Save.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Save.vue?vue&type=style&index=0&id=40a3c51e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40a3c51e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}